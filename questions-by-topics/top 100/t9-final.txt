4426	q4426	0.7795189459637961 "NotificationManager.isNotificationPolicyAccessGranted NPE in Robolectric"," I have want to write a simple test involving Robolectric's . Error: notificationManager works until I call . Any idea why this is happening? I am using and . "
6361	q6361	0.7671826858922483 "Mockito Android throw verify error but I not call verify at all"," I write a lot of unit test when running individual test case it fine. But when I try to run all test cases in class it throws a weird error. The test case The error My Environment "
5081	q5081	0.7498945884510891 "PowerMockito Spy: Calling real method results with CannotStubVoidMethodWithReturnValue"," I'm starting to bang my head against the wall, but I completely don't understand how to call real method on spied class. Long story short, I'm spying on my tested class to stub one private method. Then I want to call real void method of tested class but it says that The problem is that I don't need it to be stubbed. I have tried doCallRealMethod() as well, no use. I'm using Kotlin and Android Studio to run some unit tests for my Android project. I have following class that I want to test: And here is testing class Test fails when calling real method on following line Here's the error stack trace "
1899	q1899	0.7498452319156435 "Not run methods beforeEachTest and afterEachTest kotlin spek android"," I'm trying to write a test using Spek framework on android. But I'm very confused. In accordance with the code, the presenter must be initialized in method beforeEachTest. And the condition must be cleared in method afterEachTest. But when I run the test, it failed an error NPE in line mPresenter!!.setPass(PASSWORD, PASSWORD). But if you uncomment the two lines in front of it, then the test will succeed. What could be the problem? Thanks in advance for answers "
6823	q6823	0.7400207048919427 "mocking stubs that return a void return type"," I have the following class that I am trying to test. The method I am having problems with is the as I am trying to stub/mock the behaviour and then verify the behaviour in the test. This is the test class I get the error on this line: This is the actual error message: "
611	q611	0.7295013271549642 "Android. Mockito uses real objects instead of mock"," So, I've just writing simple test. The problem is that test runner runs real 'Repository' class code instead of mock code... Do you have any idea why could I get an exception on this? Test class Presenter Repository Exception: "
2725	q2725	0.7255429697951143 "kotlin test whith mockito: comparison Failure"," I am trying to cover with test simple presenter, which looks like next: here is my simple test: and after last line i get next error: so what i am getting this error and how to avoid it and cover this method with test? thanks! "
8668	q8668	0.7196900182236474 "cannot mock a method because there is when condition"," How can I test this method the when condition, i cannot mock it easily, because there is no method to test.I want to verify some condition for instance a status 2 and see that returns "
5647	q5647	0.7196900182236474 "Instrumentation test fails with Async operations using CountingIdlingResource"," In my instrumentation tests, is always executed before is decremented and causing exception. How is it possible? MapViewUiControlsTest.kt MapViewTestActivity.kt "
504	q504	0.7116212624377247 "Unit Test Verify a Function Passed to be Called"," Let's say i have this function (written in Kotlin): Is it possible to verify (in unit test) to be called when assignee is null or empty? Thank you all! "
6616	q6616	0.7008149480311348 "AndroidJunit4 doesn't accept space function test name?"," I have the following test, where the test name is with space and backtick for my instrumental test However when running it, it can't be executed (i.e. No test were found) Checking on it, I saw this linting error on the test function name.. When I rename my test function from to , the test run. Is it really that AndroidJunit4 runtime can't support test function name with spaces? "
7602	q7602	0.693941657454385 "Android Kotlin Testing: Wanted but not invoked, Actually, there were zero interactions with this mock"," Just want to ask about my Unit.Testing error, so i have Unit.Testing like below and when i run this test i get error Wanted but not invoked: Actually, there were zero interactions with this mock. the point is i want to test that my requested data from the api is successfully displayed. in the gradle, i already implement the org.mockito:mockito-core:2.21.0 org.mockito:mockito-inline:2.21.0 My UnitTesting is like this, i used mockito to do the test: The Error Detail is Like Below: Here is my Presenter "
510	q510	0.6890389598244953 "Code Coverage Inline Function"," i have this function written in Kotlin But when i created unit tests for this function, it shows 0 coverage on the report. I am using jacoco for code coverage. Do you guys know how to unit test inline function properly? Thanks! "
4477	q4477	0.6817266223287418 "Actual close() method is called although Realm is mocked"," I have a fairly simple method to persist a , after saving is called because the database is no longer needed. The problem: The actual method is called although Realm is mocked using mockito. This causes an exception: Is mockito not able to mock Realm? I don't want to include PowerMock just for testing this case :D Tested using 5.0.0 The tested class The Unit Test "
1482	q1482	0.6790624405376701 "Null pointer in view when run test android mocking"," I create test: MenuView MenuPresenter MvpPresenter MvpBasePresenter: when I run test I get: Any ideas why? "
324	q324	0.6772671937269039 "How can I run a single Android Test using Kotlin?"," I am using Kotlin 1.0.3 for Android Development in Unit Testing but when I try to run a single test it runs all tests of the class. Does anyone know how to avoid that behaviour? "
4732	q4732	0.6740564611527162 "How to mock util.Patterns with Mockito or MockK"," I have a method that I need to test : But it returns a nullpointerException error because Patterns.email needs to be mocked. Right now I manually create and test the Pattern but cannot test the method above. Any idea how to do this with mockito or mockk so I can test this method as a whole instead of creating the patterns manually in the test. "
1549	q1549	0.6598610904834986 "Test running failed: Instrumentation run failed due to 'kotlin.UninitializedPropertyAccessException'"," I'm having an issue where my android instrumentation tests are not discovered. instead I get the following: "
7599	q7599	0.6560499809468875 "My test cases fail when run together but pass individually, at android studio"," "
4174	q4174	0.6534057171782034 "TestScheduler not working while testing specific usecase"," I am testing single use-case. but test observer will not emit any thing in test environment. even if i change from to still test fail. i am confuse. and i don't know what i am doing wrong here? if i remove , method then test pass successfully.then what is the actual use of ? following are the file following the test class with above class under test "
2717	q2717	0.6505347937919785 "TestScheduler does not work (Kotlin + RxJava2 + mockito)"," I wanted to write a unit test that will verify method below. However, I've got null pointer exception where the line holds . My question is how do I verify onnext and onerror conditions in a method such below? Test method: EDIT presenter test "
215	q215	0.6485765924940263 "Android instrument test with Espresso fails: NoSuchMethodError get() in javax.inject.Provider"," When I run my Android instrument test, Espresso class initialization fails with the following stacktrace: I don't know if it is relevant, but my project uses Kotlin. Any idea? "
7120	q7120	0.6428111440643616 "Android Studio Default Junit Runner"," i'm trying to writing test. I have: Android Studio 3.1.4, Gradle 4.7 io.kotlintest:kotlintest-runner-junit4:3.1.9 When i run my test via green arrow i see: But when i run via cli-gradle task :test everything is fine. How can i get the same behaviour when i run my test via green arrow in gui? "
6191	q6191	0.6427767328215844 "Mockito test View visiblity"," I want to write test for view visiblity. I have something like this But I'm getting: Is it possible to test it with Mockito ? Or I need use different test framework ? Thanks for working example. "
659	q659	0.6404026567926675 "How to run Spek tests from command line?"," I have an android gradle project with JUnit tests and I've added a Spek test. It's working when I run it from the IDE, but does not include the Spek test, it only runs the JUnit tests. Is there a way to run Spek tests with gradle or any other way from command line? "
3830	q3830	0.6354509575779487 "How can Android Live Data that is derived from a switchMap be tested with junit and mockito?"," I am writing a unit test to assert observers are being called with expected arguments. I have had success testing by using the , mocking an observer, and observing the data via the method. When using the same approach with that is derived from a assertions are failing. For Example: *SingleLiveEvent taken from the Google Samples Repo And then the corresponding test (using mockito_kotlin): Mockito reports that both of the mocks (the login service, and the observer) had zero interactions and the tests fails. Any thoughts on how to implement this test so that the mocked classes are properly called? Thanks in advance! Additional Notes: I tried using the in combination with to wait to execute the calls to when reported idle, but with no luck. The method on the service returns "
5305	q5305	0.6315598729494456 "Android kotlin mockMaker issues"," Hi i am trying to mock a final class(as all classes in kotlin are final by default) and added the following dependencies in my gradle: the mockito-inline is supposed to enable you to mock a final kotlin class and so i added to both my java unit test and my instrumental test using testImplementation and androidTestImplementation On building the project i get the following error: Any ideas whats going on? if i remove the androidTestImplementation of the mockitio inline, it compiles fine but when running intrumental test i get the mockito error saying it cannot mock a final class. "
585	q585	0.6315028641772936 "How to mock Kotlin's Object using Mockito/PowerMockito?"," I have the following class: That I would like to mock using Mockito/PowerMockito. Any suggestions? "
3304	q3304	0.613136748924775 "doReturn doesn't act as proxy but calls my method"," I'm implementing some Unit testing in my app and I have a dependency that relies in the context. That dependency returns a list of but I want to mock that logic to return whatever I want. I already know the difference between: a) b) (b) shouldn't invoke the method. Now I have a method called in : and that relies on the . Since I want to mock it, this is my test: but that ends calling my code: so that method is called, I just want to retrieve an empty when that method is called from JVM. EDIT When using I get the same error, but I get one more line of Mockito error: "
3068	q3068	0.6081142251635575 "Failing to run Instrumented tests on a new Android Kotlin project"," I just created a new android application with Support. When I've tried to run the default instrumented tests it does not run and shows me this message: This the Instrumented test class that I'm trying to run: "
6306	q6306	0.6057767965311783 "Mockito - mock value in parent (abstract) class?"," I want to write test for GetEventPlannersRequest class. This class looks: So in tests I did something like this: And where is the problem? Problem is that the parent class GetEventPlannersRequest Which throwing java.lang.NullPointerException. Is it possible to mock it somehow ? Or I need to refactor it somehow ? UPDATE: For now I added additional constructor: So I can mock also terminalId and test it but if it is possible to mock it I also would like to know how: ) "
6532	q6532	0.6000169506527089 "NoClassDefFoundError when trying to execute JUnit 4 test in Intellij 2018.2.RC"," When trying to execute a very simple Hello World test in Android, using KotlinTest: When trying to execute this in IntelliJ, by clicking the green icon, I get the following error: I'm using this dependency: JUnit 4 is necessary because Android doesn't support JUnit 5 yet. When executing it works correctly, so I assume this is a problem with IntelliJ only? "
6265	q6265	0.6000169506527089 "Mockito check method call with bundle"," I have method onItemCliked() which calling method setFragment() with fragment + bundle. And I want to write test for this method and check if method setFragment() wass called and if bundle is fine. Method to test: What I'm trying to do: But have something like this: How I can mock this bundle inside method ? Thanks for any advice. "
3956	q3956	0.5940837482097717 "JUnit Test return lateinit property has not been initialized on presenter"," I wanna t create a simple JUnit testing an the test return an error like my tests I will write in Java. Here is the test class. My presenter and all classes is written in with and . In My Presenter I do that In AppComponent class that And the error of test is that \"lateinit property mUserService has not been initialized\" "
507	q507	0.5869942623664666 "Mocked object still calling method (Mockito + Kotlin)"," I'm trying to test this class: For this purpose, I've created this test class: Which is failing with the following stacktrace: The place that the stacktrace point is the last line of postman's login fun: Once postman is being mocked, why in the world is it calling the actual implementation of fun? "
3609	q3609	0.5841051786176862 "Unable to run parameterized tests with Android Test Orchestrator"," I'm trying to run parameterized tests using Android Test Orchestrator. But for some reason parameterized tests won't start. I can run all tests properly without Orchestrator but I need it to clear some data between tests. This is output from Gradle. It can see all 14 tests but only 12 are executed (missing 2 are parameterized): Gradle: Test: EDIT: As a workaround sealed class can be used: "
3121	q3121	0.5823772483662736 "How to test constraints on object initialization?"," I am writing an App for Android, and I am wanting to start writing tests for the classes I am writing. I am fairly new to writing test cases. Right now to create a test, I use IntelliJ and use it's wizard to make a new JUnit4 test. The wizard allows me to select methods from my class to test. But for the object I am testing, I do not want a negative number passed to the constructor. Where in my Test class is the best place to test these constraints? I know that to test the constraints, I just need to make sure the exception is thrown and caught, but I am unsure if I should make a new method for this, or just wedge it into one of the functions IntelliJ pre-made for me. Here is the generated test class: "
8048	q8048	0.5806733923799265 "android studio not including Kotlin JUnit tests written along with Java jUnit test"," I had a few JUnit tests written in Java. I have added new JUnit test classes which I have written in Kotlin. These classes are under the same folder where previously written JUnit Tests are located. i.e. . When I run the JUnit tests, Android studio only runs JUnit tests which are written in Java. I can still run the JUnit classes written in Kotlin individually though. I suspect this is happening when I upgraded my Android studio to 3.2 as it was running on Android Studio 3.1. "
3006	q3006	0.5802096326491458 "Android tests are running without lanuching the emulator(choose device dialog not appears) - empty test suite"," I am struggling with running the tests under the androidTest folder - currently even when i am not launch the emulator the test runs without it, there is no dialog to force me to choose the device on which i must run the test. It leads to problem, that when i run the test error appears in the console: Only when i manually Edit Configuration for this separate method choose the \"deployment target options\" and choose \"open select deployment target dialog\" it runs well, i choose the emulator and test runs. but this means that i will have to manually do it for every test method in my androidTest package. What is really happening? I've tried this even on brand new project, configured to be Kotlin project in Android Studio 3.0.1. You can try it for yourself. "
7553	q7553	0.5783699414254512 "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception"," I am getting whenever I try to verify method is called or not. } Presenter Class } These two methods need to be verified and updateUser() throws Null Pointer Exception Logcat: FYI: I am using following Dependencies: "
3901	q3901	0.5783699414254512 "Unable to run android instrumentation testcase ( Kotlin ) in android studio"," I have written simple instrumentation test in kotlin as below Everything works fine when i am creating androidTest apk & even testcase are running fine but throwing below stacktrace in android studio. "
5561	q5561	0.57309504807257 "Is possible to test \"() -> Unit?\" with junit test"," Is possible to test \"() -> Unit?\" with junit test? I have the following NetworkUtils class That is the interface Here is my presenter where I wanna to check internet connection and do some requests And here is my Handler which is an interface I wanna to mock that somehow. Is that possible or not? If yes, please can you give me an example? "
1445	q1445	0.5725613403168515 "Android Espresso - how to run setup only once for all tests"," I am using Espresso/Kotlin to run tests for our Android Application and I want to run the setup once for all tests in the given test class. I created a companion object to launch the application once (which it does), however it then closes and doesn't stay open while each test runs. How can I have it launch the application, run all the tests in the test class, then close the application? I also tried the following, but it still launches once then closes, then tries running the tests: "
3791	q3791	0.5676518578330886 "Can we test the methods written in Kotlin with Mockito?"," Can we test the Mobile Application methods written in Kotlin with Mockito tool? Have a mobile application which uses the library written in kotlin. Can Mockito supports to test these library methods. "
1262	q1262	0.5664783584079366 "Cannot mock final Kotlin class using Mockito 2"," I am unable to mock a Kotlin final class using Mockito 2. I am using Robolectric in addition. This is my test code: The test fails when we try to initialise the mocks in the method. In addition, I am using the following gradle dependencies in my code: All other unit tests pass using this configuration but as soon as I try to mock the Kotlin class it throws the following error: Please note I am using Mockito version 2 and I am using the dependency which automatically enables the ability to mock final classes. "
7987	q7987	0.564422763725556 "Mockito wanted but not invoked - However, there was exactly 1 interaction with this mock"," This is the first time I use mockito & roboelectric to make unit test on android studio. I want to verify that view.onSuccessLogin() called when request to server / API is success. But, I got an error \"wanted but not invoked - However, there was exactly 1 interaction with this mock\" Here is my presenter class : This is my PresenterLoginTest class "
366	q366	0.558227730544624 "A simple kotlin class with mockito test caused MissingMethodInvocationException"," I start to learn Kotlin and Mockito, so I code a simple module to test it. AccountData_K.kt: AccountDataMockTest_K.kt: And when I run the test, it reports an exception about the method: I doubt why the method is not a method call on a mock... So please help me, thanks. "
5496	q5496	0.5526866909035906 "In Android Kotlin, the assertNotNull causes the unit test to not run"," In Android Studio I created androidTest package and added a . The function is required to be static, so I have to add and put it in the . But if put inside the it will show “Empty test suite” when running the test, and the test does not run. But it does see the log which is placed before the assertXXX statement. If I comment out the in the function, which is inside the companion, the test will run as expected. Any idea why the assertNotNull() (actually all assertXXX functions) causes the test not to run? Gradle has: test class: "
4778	q4778	0.5455399887814723 "Kotlin & Mockito unit tests failing in gradle"," Running unit tests locally on Android Studio works fine but when I run it with gradle using . The tests fails with the exception saying Mockito cannot spy/mock final classes. I thought using mockito with the inline extension was supposed to fix this. I have this dependency in my gradle file Is there something that I'm missing? "
2708	q2708	0.5455079735404093 "Kotlin coroutines unit testing using mockito"," i am getting the below when i try to mock and verify on an activity that's calling a suspend function Error: Argument(s) are different! Wanted: userManager.getAccountInfo( (onCreate_callsGetAccountInformation$1) kotlinx.coroutines.experimental.CoroutineScope.() -> kotlin.Unit ); -> at com.pharmacy.AccountActivityTests$onCreate_callsGetAccountInformation$1.doResume(AccountActivityTests.kt:117) Actual invocation has different arguments: userManager.getAccountInfo( () kotlinx.coroutines.experimental.CoroutineScope.() -> kotlin.Unit ) -> at com.pharmacy.AccountActivity$loadAccountInfoAsync$1$1.doResume(AccountActivity.kt:199) Code: I have my unit test case decorated with runBlocking like this: here -> usermanager.getAccountInfo() is a suspend function. "
7413	q7413	0.5422875152421875 "Testing presenter who contains CompositeDisposable"," I tried to create unit test for my presenter class which using RxJava CompositeDisposable but it always gave a null pointer exception. This is my presenter class: This the test class: when I ran the test it gave me the following error: Where it point to: This line "
6610	q6610	0.5343219355266049 "Testing Kotlin classes with Mockito causes MissingMethodInvocationException"," So after alot of trail and error with a kotlin class i found that the same code in java is testable but not testable with kotlin. This causes: org.mockito.exceptions.misusing.MissingMethodInvocationException: when() requires an argument which has to be 'a method call on a mock'. For example: when(mock.getArticles()).thenReturn(articles); But if i write class B as a java class i.e. The test works. Can some one explain why this is happening or how am i suposed to test kotlin code when mockito does not work consistently. "
2668	q2668	0.532303593326304 "Jacoco is reporting 0 coverage of Kotlin classes by unit tests, in an Android project"," I'm using Android Gradle Plugin 3.0.0. I'm migrating an Android app from java to kotlin. My app has classes in Java and Kotlin, and tests are in Java. I run . This runs both unit tests () and instrumentation tests (). The report produced by jacoco in doesn't show coverage for Kotlin classes which are indeed covered by unit tests. The report does show coverage correctly from instrumentation tests. Note: I came across these other questions, which aren't exactly the same issue: JaCoCo returning 0% Coverage with Kotlin and Android 3.0 has a problem with code coverage by instrumentation tests, not unit tests. Android Studio JaCoCo reports 0% coverage has a problem with code coverage from inside Android Studio, but not Kotlin-specific. Relevant portions of my app module's build.gradle: "
8303	q8303	0.5317175628382315 "Cannot mock a kotlin sealed object method"," I have a sealed class that contains an object with a method I need to mock. I've tried using Powermock for this but the method does not get mocked (any calls in the test just call the original method). Here's an example of the sealed class: And the test class: Unfortunately when I run this I either get null pointer exceptions around the internals of that PowerMockito. call if I use a real value in the invoke instead of the any() matcher, or an IllegalArgumentException described as \"Misplaced or misused argument matcher detected here\" if I use the any() matcher, which suggests that nothing is being mocked at all and the real function is being called. Does anyone have any ideas? "
7192	q7192	0.5310749274746458 "(Mockito + Kotlin) eq() and any() in Android Test returns null"," Things are going fine in test package, however, they are going wayward in androidTest package. Things I have already tried: Instead of I have already tried following snippet This also returns null in case of androidTest, however it runs fine in test package I have also tried nhaarman's mockito-kotlin that didn't help either Any help will be highly appreciated. "
254	q254	0.5280951425445697 "How could I test a method is not being called for a non mock object?"," I have a test as below, where in the given condition, I want to ensure is not called. However it error out stating The error is on the line It is expected as is not a mock object. How could I test a method that being called for a non mock object? I see the answer in how to verify a method of a non-mock object is called?, but that is still using Mock and Spy. I hope to find a way without need to mock for a class instance that I already have. (Note: the above is written in Kotlin) "
7607	q7607	0.5258361638113265 "Callback not executed in Android unit test with injected mock object"," I am new to unit testing in Android and have gone through several tutorials to get myself familiar with mockito and robolectric. My app is using Dagger 2 to inject my into my . For my , I have set up a to provide a mocked version of so that I can use Robolectric to run unit tests against my I'm having an issue getting the on my to execute in the unit test. I have verified in the of my class that the is being injected as a mocked object. I have gone through several tutorials and blog posts and as far as I can tell, I am doing everything correctly. The function in is getting called successfully, and I can see that the call to is being executed. But the lambda function is never getting executed. Here's my relevant code: AppComponent.kt ServicesModule.kt EventsService.kt MainActivity.kt Now we get into the tests: TestAppComponent.kt TestServicesModule.kt MainActivityUnitTest.kt Edit: Adding App and TestApp "
283	q283	0.5234019046533533 "Android Kotlin: Mocking a free function using Mockito/PowerMock"," I am having a free function in Kotlin that I want to mock for test purpose. My free function is something like this: In my test I want to mock/stub it so that when it is called a mock value is returned. Even if it could be done with PowerMock please do let me know. PS: I am using Kotlin 1.0.1-2 for my project. "
171	q171	0.5218780615299895 "Extend Mockito verify for Kotlin not working (in a \"kotlin way\")"," I want to extend verify to allow checking multiple commands over the same mocked object but it is not working, it compiles but on run it dont run each command over the same. Just want to avoid writing more things like: and write more like: First try: Second try: But those are not working, all the tests pass even if I dont call the methods in the presenter, How can I do this? "
6565	q6565	0.5218780615299895 "Illegal connection pointer running Robolectric tests with ContentResolver"," I want to test a class that manages data and uses a custom , with . I've made a test class with two tests that use a to set some data in the . These tests work perfectly on their own, but if I test the whole class, I get an error in the second class: My test class: Here's the complete stacktrace: "
3474	q3474	0.520540539626388 "Gradle error - when I run unit test on a single Kotlin file or an specific test function"," In , when i run only a unit test file or an specific test function, fails but when i run the parent folder of the file everything is Ok. the error : I can run the test if i create a new project with the already enabled! Thanks "
7137	q7137	0.520540539626388 "RxJava2, Android -> Whats wrong in this unittest"," I do not know why this error is occurring. I need to test if database Interface is called in successful. I tried for a few hours without success. Class databaseInterface.getUserToken(\"\",\"\",\"\") -> return Single - UserToken - webService.getVisits() -> return Single - RoutineVisit- map -> ruturn List- Visits - Test } Whats happining "
140	q140	0.520540539626388 "kotlin and ArgumentCaptor - IllegalStateException"," I have a problem with capturing the Class argument via ArgumentCaptor. My test class looks like this: When I run the test, following exception is thrown: java.lang.IllegalStateException: classCaptor.capture() must not be null Is it possible to use argument captors in kotlin? ========= UPDATE 1: Kotlin: 1.0.0-beta-4584 Mockito: 1.10.19 Robolectric: 3.0 ========= UPDATE 2: Stacktrace: "
1422	q1422	0.5193571353091682 "JaCoCo returning 0% Coverage with Kotlin and Android 3.0"," I am trying to check my code coverage for a test case that I wrote in Kotlin. When I execute , my coverage.ec file is empty and my reports indicate that I have 0% coverage. Please note, the test cases are 100% successful. Can anyone think of any reasons my coverage.ec file keeps returning 0 bytes? I have searched everywhere with no luck. "
3515	q3515	0.508723091500046 "How to unit test custom Application class?"," I would like to write some unit tests for my custom class but my tests fail immediately after I try to create object with this error: This is my class: And this is my test: "
7999	q7999	0.5079196502272576 "JUnit/Mockito: java.lang.IllegalStateException: \"field\" must not be null"," I'm fairly new to Mockito and testing, but I can't figure out what is wrong with this exactly, this is a simple MVP structure MainActivity code: will eventually call Thank you! "
307	q307	0.5062050890589239 "java.lang.AbstractMethodError: abstract method when running espresso on Kotlin with Mockito"," I have an instrumental espresso test that uses mockito. The test class as below. My TestComponentRule as below And my Dagger TestModule And my build.gradle file as below When I trigger my Instrumentation test, it error on and with the error "
276	q276	0.5043301718048233 "Kotlin inline keyword causing IntelliJ IDEA Coverage reporting 0%"," I created a very simple test function as below I Run it with Coverage... The test coverage number is 0%. But if I remove the keyword, the test coverage number shows now. Is this a Kotlin issue or Android IntelliJ IDEA Coverage issue? (note: JaCoco coverage is good). Note: I'm using Android Studio 2.0 and Kotlin 1.0.2 "
7850	q7850	0.504122561011537 "How to mock a private function in android test with MockK?"," I can't seem to mock private functions in android tests. I'm also using the all-open plugin for pre-P testing. On non-android tests it runs with no problems. I figured it should work on android too, because it's marked on MockK-android. Is this not implemented or am I missing something obvious? Fails with Exception, because the private function is missing. io.mockk.MockKException: can't find function privateFun() for dynamic call "
1312	q1312	0.5039339472682666 "Only the first test passes with TestScheduler when running multiple tests (Kotlin)"," I am trying to test my presenter in an MVP architecture using RxJava in Kotlin. I have created a test rule to substitute the usual schedulers with a to be able to test asynchronous requests: This is my test class. The problem is that every test is passing, if I run them separately, but if I run the whole suite, only the first one passes. There should be a problem with the , because if I use an immediate scheduler, it works. Here is the error I get in the console: UserListPresenter class "
4467	q4467	0.5039339472682666 "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite"," When trying to run espresso tests written in Kotlin on Android Studio (as far as 3.2 Canary 9), I'm getting the error: Process finished with exit code 1 Class not found: \"com.myproject.directoryofwinning.VerifyAppIsAwesomeTest\"Empty test suite. Strangely, Java tests in the same project have no issues. Have tried to reset the configurations and suggested by others, but this doesn't seem to make any difference. "
3698	q3698	0.49653663616121885 "Mockito Stubbed Spy sometimes calls and sometimes does not call the spied object methods"," QUESTION In a , how can I achieve both; Call a real method from a Kotlin class under test and stub the inner calls it does to other methods within such class under test. SCENARIO I am using the following libraries; I also have a simple kotlin class in the form of TESTING WITH A SPY Which throws the error, Another Test case; gives the following error: Also, anytime I attempt to use the debugger to call myClassSpy methods or something related to it, it throws the following error: I have attempted to use TESTING WITH A MOCK Mocking the whole class does not work in this case because it is a mock and does not call the real method under test: Same error: If I further call the real method it also shows the same error: I also, tried opening but threw the same errors. Thus, how can I stub methods from a spy so that when I test methods from such spied object it does not propagate the call to other methods which I do not want to further mock. Any help, suggestion, idea... in order to test these type of methods is highly appreciated. "
1517	q1517	0.4923203707825787 "Kotlin Unit Test Always passes when run from Android Studio UI"," I'm trying to implement some Unit Tests with Kotlin in my application. The problem that occurs is that when I run the test from the UI, the test always passes, whatever I do. If I run the test from the terminal, everything goes as expected, the test fails when given the incorrect values. Does anyone knows why this happens? Is it a problem from Android Studio? Is there a way to solve it? Even this test passes when run from the UI "
4221	q4221	0.4905505815684981 "Mockito not working when method start Observable"," im trying to test a presenter, but the test only pass when things are outside of Observable, my presenter: rest api part: test that works ok: test that is not working (it only run the .showProgress outside my test class setup: no error show, the only thing that the test result show is this: im following this: https://github.com/burakeregar/KotlinRxMvpArchitecture "
6933	q6933	0.4899728885168946 "Type Android Junit4 not present exception"," I have an Android project that I am trying to run Instrumentation tests for using AndroidStudio, but when I try to run the whole class file for the tests, I get the exceptions below: Interestingly, I can run individual methods in this Instrument Test class, just not the whole class. My build.gradle file for the app is below: And the InstrumentTest class is as follows: Any help/guidance is much appreciated, thank you. "
3993	q3993	0.4877208131128458 "Mock object in Android Unit test with kotlin - any() gives null"," I'm trying to test my classes and I need to mock a class. My code is the following:- But in the second line it throws an error: I've tried with mockito-kotlin and befriending-kotlin-and-mockito with no exit. Do you know how to fix it? "
5513	q5513	0.4867271231721508 "Spyk with generic"," I want to use spyk for class with generic. It produces StackOverflowError. It is impossible to use every { childClazz.foobar(view) } just Runs and super.foobar(view) definitely need to be invoked Here is a stacktrace: Is it possible to use spyk here? I need it for private methods. "
2869	q2869	0.4867271231721508 "How to test a class with anonymous listener that is set inside a function?"," I am just getting into unit testing on Android and I ran into some difficulties when I tried to test function of this class. If I mock my ViewKontroller test still crashes with NPE on line . So what am I doing wrong? "
1907	q1907	0.48416408945406203 "Running kotlin tests with gradlew is throwing java.lang.SecurityException"," Running test from the terminal with: Throws a: Running the same test from android studio works fine. Any ideas why? "
7432	q7432	0.48247170540456874 "Mockito retrofit2 with MVP architecture"," I think somethings wrong about my code in TeamImplsTest, and i need advice :D This is my code API interface TeamPresenter TeamImpls TeamModel And This my TeamImplsTest i got error "
2246	q2246	0.4754398102729086 "How to mock Kotlin's kotlinx.android.synthetic views in Android"," I have a fragment written in Kotlin. I import layout views using In one of my methods I am setting the TextView's text: In my plain JVM unit test, I want to test this method using Mockito. For example, if the above method was written in java I could do: How can I do a similar implementation when using Kotlin's views? "
2811	q2811	0.46938395718257414 "What is this \"KotlinRulezzz\" package all about?"," suggests a package named \"KotlinRulezzz\". What is this package all about? Is this some kind of Easter egg? "
3443	q3443	0.46738174493292717 "Android Kotlin instrumentation test not recognized as instrumentation test"," I'm trying to write a kotlin instrumentation test in my Android project. it's pretty basic for the moment: When I run it, it says that . But when I run the Java version of this class I'm prompted to choose the device on which I want to run the test (meaning that AS recognizes it as an instrumentation test). The Java version looks like this: If I then convert this Java class to Kotlin and re-run the test, I get the same . What am I missing here? Thanks "
8629	q8629	0.4656966706315704 "Wanted but not invoked, Kotlin, RxJava, MVP, Mockito"," I am trying to write a simple test for my class. It should check if the and shows up after successful API response. I create instance in like this: Presenter class: Test class: RxApiServiceInterface interface: TestSchedulerProvider class: I am using these test libs: What the hell am I doing wrong, that I still get the \"Wanted but not invoked error\"? The logs also says: but I am not suprised about that as this method is outside API query. "
3912	q3912	0.4650831198773601 "Dagger 2 Mocking Content Resolver class"," I have a that is injected to my using . I want to mock this in espresso so in my test do I do: 1: mock it in the class as an external variable or 2: mock it inside the method Or am I doing it completely wrong and there is another method to correctly mock the "
1621	q1621	0.46322930568534565 "Android Studio 3.0 gradle 3.0.0-beta2, breaks Kotlin Unit Test Coverage?"," I have a simple Kotlin classes, as below I have my test (written in Java here, could be in Kotlin, also) When I run a test with Coverage in Android Studio 3.0 Beta-2 using , no coverage is reported for it. But when I run the test using , 100% coverage reported. When I change my source code to Java: It works fine for both gradle build tools It seems to me that has the broken test coverage measurement for Kotlin. Did I miss anything? Is there a workaround for me to get the test coverage in Kotlin? "
2414	q2414	0.4617440278278281 "Error with mock methods"," I try to mock some methods in the project so that when they are called, a certain value is returned. But when you run the tests, they fall with the output: If you run the same code in debug mode and run through all the lines, then when you call shared.getToken (), the value that we specified is returned. But with normal startup, tests fall on this line. Code: Shared: Presenter: Thanks! "
7008	q7008	0.46168802028930994 "java.lang.IllegalArgumentException: On Android P, a class injection can only be applied to BaseDexClassLoader"," Our application is in development process where we are following MVP approach to provide better test coverage by writing unit test cases on our presenter. Prior to Android P, our test cases were executing without any problem but now after Android P release when we are trying to run test cases on Pixel 2 (Android P), our test cases are failing on following line of code- with following error message - How can i resolve this issue? "
3228	q3228	0.4594052374074012 "Starting instrumentation tests from the play icon in Android Studio runs them as JUnit on the JVM"," When I try to run instrumentation tests in Android Studio by clicking the Play icon in the gutter on the left of a file, it creates the wrong run configuration. I'm using Android Studio 3.0.1. This seems to only happen if the test is written in Kotlin. "
5493	q5493	0.45799854876562635 "JUnit tests always pass when executing in device"," This simple test Unexpectedly, this passes when put in (both through Android Studio and in the terminal), but obviously fails as expected when put in . "
2502	q2502	0.4532564593111689 "How to set up Mockito for Kotlin and Android"," I want to use Mockito for unit testing, so I added the Mockito library into my gradle dependencies. But still, I can not use any Mockito annotations. /androidTest/ExampleTest.kt What I'm missing it? "
7565	q7565	0.4505903532796294 "Custom JUnit Rule allows all tests to pass no matter what"," I have a file that references some static methods: In my JUnit test for this file, I write some code to mock my resource grabber in setup. This compiles and runs, and the following test fails as I'd expect it to: Here is where things get weird. I recently learned about custom JUnit rules that you can use to avoid some duplicated code across tests. In this case, I don't want to have to copy and paste my resource grabber work into every single test suite that uses it, so I made a custom rule: Below is the implementation of that. The crazy thing is that now EVERY test is passing no matter what: I'm not sure where the problem lies. I've tried building and running tests from both Android Studio and the command line. I don't know if I've implemented my rule incorrectly, or if it's an issue with the JUnit Rule connected with Powermock, or if it's an issue with Kotlin annotation processing. The tests compile and run but just pass no matter what's inside the tests themselves. I'm open to comments about the architecture here (I'm sure the community has plenty) but I'm really looking for an explanation as to why the rule I wrote passes every test. "
973	q973	0.449240517928057 "Share code between unit test and instrumentation tests when using kotlin"," Similar question: Sharing code between Android Instrumentation Tests and Unit Tests in Android Studio My setup is the following: folder that contains unit tests. These can be either Java or Kotlin classes that contains instrumentation tests. These can also be either Java or Kotlin classes is a folder that contains a bunch of utils that are shared between unit and instrumentation tests. This sharing is defined in gradle as: This allows any Java class in or to access the utils. but not the Kotlin unit tests. My assumption is that they are not added to the sourceSets. My question is: how can I add them? I tried: But that doesn't seem to work. "
4960	q4960	0.4473072953755702 "Espresso test to verify that SwipeRefreshLayout is showing the refreshing indicator"," I would like to create an Espresso test which verifies that is showing the refreshing indicator. How can I do this? "
4179	q4179	0.442359476438663 "How to test Android rest service?"," I want to write a Test file in Kotlin to test my endpoints, if they are working properly and sending proper data. I started very easy, but Unfortunately I get a : Process finished with exit code 1 Class not found: \"com.example.MySampleSdkTest\"Empty test suite. Whats wrong? "
3681	q3681	0.43962296329428696 "In Android MVP, should a presenter return a value?"," I try to learn MVP, I have some question to ask, should a presenter return a value? something like this: or like this: "
3595	q3595	0.43962296329428696 "Descriptions for ViewAssertion in Espresso"," I have this code: How can I add my own message to it in case of a fall of the test with an error? For example as in junit: "
5916	q5916	0.43847983063237495 "Kotlin how to mock function in parameters"," I've tried to cover presenter with test. Presenter use case as DataSource. Execute method of use case has following structure: . My question is how I can mock emit from onNext and onError? Here is my PresenterTest: Presenter code: UseCase code: EDIT Log: "
8785	q8785	0.43659068194365663 "Can't run tests with Robolectric 4.0.1, 'packageDebugUnitTestForUnitTest' fails"," My robolectric tests aren't working after upgrading to Robolectric 4.0.1. In my gradle configuration I am using and in gradle.properties . Here's a dummy test to use as en example: I am experiencing 2 separate problems: If I run the test then I am getting the following message: If I remove the option from the gradle config file then I am getting the following error: In the line Why did the tests work with version 3.6.1 but now they don't? "
5052	q5052	0.43530655421968173 "Android robolectric unit test load bitmap from drawable"," I am trying to load a bitmap from a drawable in my resources, but it appears to be empty when the following code is run in unit tests, but not empty when run from a normal activity: I really don't understand what's happening, as the same code produces different results whether I run it in the app or in a test... EDIT When running this in instrumented tests, everything works well. I would still like to understand why drawables are not obtained in unit test though. "
661	q661	0.43512592213679163 "How to mock final class with Mockito 2 on Java Module in Android project?"," I have a Android Clean Architecture project write in Kotlin with 3 modules: data (Android Library) domaine (Java Library) presentation (Android Application) The 3 modules each have unit tests written with junit. But with Kotlin every class is final by default. I quickly had the problem: How to mock a final class with mockito It's now possible with Mockito 2 It can be done via the mockito extension mechanism by creating the file containing a single line: I know that this question has already been asked (How to mock a final class with mockito, Mock objects calling final classes static methods with Mockito), but I didn't find the answer I'm looking for. "
